바로 ERD 만들려니깐 넘 여려워서 먼저 글로 정리해봄

주제: QR 주문 및 관리자 플랫폼

1. 유저 및 인증 (User & Auth)
가장 기본이 되는 사용자 정보입니다. 역할(Role)에 따라 권한이 갈립니다.

  User (사용자)
    id: 고유 식별자 (UUID)
    email: 로그인 아이디 (중복 불가)
    password: 암호화된 비밀번호
    name: 사용자 실명
    phone: 전화번호 (알림톡/문자 발송용)
    role: 역할 (OWNER, STAFF)
    createdAt: 가입일
    updatedAt: 수정일

2. 매장 관리 (Store Management)
사장님이 관리하는 가게와 직원, 그리고 QR 주문을 위한 테이블 정보입니다.

  Restaurant (식당/매장)
    id: 고유 식별자 (UUID)
    name: 가게 이름
    ownerId: 사장님 User ID (User 테이블 참조)
    address: 주소
    tel: 가게 전화번호
    description: 가게 소개 (앱 노출용)
    isOpen: 영업 중 여부 (ON/OFF)

  StaffAssignment (직원 배정) 직원이 어느 매장에서 일하는지 연결 (M:N 해소)
    userId: 직원 User ID
    restaurantId: 매장 ID
    alias: 매장에서 부르는 호칭 (예: "매니저님", "홀서빙1")

  Table (테이블 - QR 주문 핵심) QR 코드가 부착될 실제 오프라인 테이블입니다.
    id: 고유 식별자
    restaurantId: 소속 매장 ID
    tableNum: 테이블 번호 (1번, 2번...)
    qrCodeUrl: 생성된 QR 이미지 주소

3. 상품 및 메뉴 (Product & Menu)
이전 코드에는 Category가 없었지만, 실제 서비스에는 "메인/사이드/음료" 같은 분류가 필수입니다.

  Category (메뉴 카테고리)
    id: 고유 식별자
    restaurantId: 소속 매장 ID
    name: 카테고리명 (예: 파스타, 음료, 주류)
    seq: 노출 순서 (드래그 앤 드롭 정렬용)

  MenuItem (메뉴 아이템)
    id: 고유 식별자
    categoryId: 소속 카테고리 ID
    name: 메뉴 이름
    price: 가격
    imageUrl: 메뉴 사진 URL
    description: 메뉴 설명
    isSoldOut: 품절 여부
    isHidden: 숨김 여부 (메뉴판에서 안 보이게)

4. 주문 및 결제 (Order & Transaction)
가장 중요한 주문 로직입니다. Order 하나에 여러 OrderItem이 붙는 구조여야 합니다.
  Order (주문 건)
    id: 고유 식별자
    restaurantId: 매장 ID
    tableId: 어느 테이블에서 주문했는지 (Table 테이블 참조)
    customerId: 주문한 손님 ID (비회원 주문이면 Null 가능)
    totalPrice: 총 결제 금액
    status: 주문 상태 (PENDING -> PAID -> COOKING -> SERVED -> COMPLETED)
    paymentMethod: 결제 수단 (CARD, CASH, SIMPLE_PAY)
    createdAt: 주문 시간

  OrderItem (주문 상세 내역) 짜장면 2개, 짬뽕 1개를 시켰다면 이 테이블에 2줄이 쌓입니다.
    id: 고유 식별자
    orderId: 부모 주문 ID (Order 테이블 참조)
    menuItemId: 주문한 메뉴 ID
    name: 메뉴 이름 (메뉴 삭제/수정에 대비해 이름도 스냅샷 저장)
    price: 주문 당시 가격 (가격 변동 대비 스냅샷)
    quantity: 수량